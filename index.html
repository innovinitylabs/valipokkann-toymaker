<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Ammo.js Jumping Jack Toy</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #f0f0f0;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }

        #canvas {
            display: block;
            width: 100vw;
            height: 100vh;
        }

        #instructions {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
            max-width: 300px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #instructions:hover {
            background: rgba(0, 0, 0, 0.9);
        }

        #instructions.expanded {
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        #instructions .short-desc {
            font-weight: bold;
            margin-bottom: 5px;
        }

        #instructions .full-desc {
            display: none;
            margin-top: 15px;
            line-height: 1.6;
        }

        #instructions.expanded .full-desc {
            display: block;
        }

        #instructions .click-hint {
            font-size: 12px;
            opacity: 0.7;
            margin-top: 8px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div id="instructions">
        <div class="short-desc">Ammo.js Physics Jumping Jack</div>
        <div class="controls">
            ‚Ä¢ Click & hold: alternates spin direction (clockwise ‚Üî counterclockwise)<br>
            ‚Ä¢ Release mouse: stops spinning and toy comes to rest<br>
            ‚Ä¢ Scroll wheel to zoom in/out<br>
            ‚Ä¢ Real physics: gravity, rigid bodies, hinge constraints, centrifugal force!
        </div>
        <div class="click-hint">Click for artist statement</div>

        <div class="full-desc">
            <h3>"Elastic Memory ‚Äì becoming a Toymaker"</h3>

            <h4>Mode: Elastic Memory</h4>

            <p>This work reimagines the traditional jumping jack toy as a living mechanical system rather than a perfect machine.</p>

            <p>Unlike rigid, idealized hinges, this version embraces instability. At higher rotational speeds, the limbs stretch, drift, and momentarily lose alignment with the torso, only to return as motion slows. This behavior is intentional. It echoes a lesser-known variant of the toy, where limbs were connected using elastic instead of pins. Over time, those elastics would fatigue, stretch unevenly, and respond imperfectly to force.</p>

            <p>The result was never symmetry, never precision, but character.</p>

            <p>Here, physics is allowed to misbehave slightly. Constraints soften under stress. Motion leaves behind residue. What appears as a glitch is closer to how old toys actually aged in the real world, shaped by repeated handling, material decay, and misuse.</p>

            <p>The piece sits between control and loss of control.<br>
            Spin it gently and it behaves.<br>
            Push it harder and the system reveals its limits.</p>

            <p>This is not nostalgia as an image.<br>
            It is nostalgia as behavior.</p>

            <h4>Personal Memory</h4>

            <p>I do not remember ever being bought a jumping jack toy.</p>

            <p>What I remember instead is finding one.<br>
            Broken. Old. Probably from my grandmother's home.</p>

            <p>It was the elastic version. The elastic had lost most of its strength. One limb was missing, if I remember correctly. It never moved the way it was supposed to, and yet it stayed with me far longer than any intact toy.</p>

            <p>This work is built around that memory.<br>
            Not how the toy was designed to work, but how it survived.</p>

            <h4>Modes (Planned / Experimental)</h4>

            <p><strong>Elastic Mode (current)</strong><br>
            Limbs respond dynamically to force, stretch under speed, and recover over time. Imperfect, organic, memory-based motion.</p>

            <p><strong>Rigid Mode (planned)</strong><br>
            A mechanically "correct" version with reinforced hinges and strict constraints, closer to a textbook simulation.</p>

            <p><strong>Mirror Mode (planned)</strong><br>
            Uses camera or body movement to influence direction and motion, turning the toy into a physical echo of the viewer.</p>

            <h4>Artist Note</h4>

            <p>I am less interested in how toys were supposed to work, and more interested in how they actually did after years of use. This project treats physics not as a rulebook, but as a collaborator.</p>

            <h4>Attribution & Ethics</h4>

            <p>This character is based on "The Toymaker" by Amrit Pal Singh.</p>

            <p>This artwork was entirely created by me as an original interpretation for a public art challenge. The underlying character and intellectual property belong to Amrit Pal Singh and are used here with attribution and respect.</p>

            <p>This work is non-commercial and created in the spirit of the competition.</p>
        </div>
    </div>
    <div id="loading" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.8); color: white; padding: 20px; border-radius: 10px; font-size: 16px;">
        Loading Ammo.js physics engine...
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="ammo_browser.js"></script>
    <script>
        // Check if Ammo loaded correctly
        setTimeout(() => {
            if (typeof Ammo === 'undefined') {
                console.error('‚ùå CRITICAL: Ammo.js failed to load from CDN');
                console.error('üí° Try: Hard refresh (Ctrl+F5) or clear browser cache');
                document.body.innerHTML = '<div style="color: red; font-size: 24px; text-align: center; margin-top: 100px;">‚ùå Ammo.js failed to load<br>Try: Hard refresh (Ctrl+F5) or clear browser cache</div>';
            } else {
                console.log('‚úÖ Ammo.js loaded successfully');
            }
        }, 1000);

        // Handle expandable description
        document.addEventListener('DOMContentLoaded', function() {
            const instructions = document.getElementById('instructions');

            instructions.addEventListener('click', function() {
                instructions.classList.toggle('expanded');
            });
        });
    </script>
    <script src="app.js"></script>
</body>
</html>